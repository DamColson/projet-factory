<div class="container">
  @if(bloc.id){
  <h1>Edition du bloc numéro {{ bloc.id }}</h1>
  }@else {
  <h1>Création d'un bloc</h1>
  }
  <div class="form-group mb-3">
    <label for="date_debut">Date de début :</label>
    <input
      id="date_debut"
      type="date"
      class="form-control"
      [(ngModel)]="bloc.dateDebut"
    />
  </div>
  <div class="form-group mb-3">
    <label for="date_fin">Date de fin :</label>
    <input
      id="date_fin"
      type="date"
      class="form-control"
      [(ngModel)]="bloc.dateFin"
    />
  </div>
  <div class="form-group mb-3">
    <label for="code">Code :</label>
    <input id="code" class="form-control" [(ngModel)]="bloc.code" />
  </div>
  <div class="form-group mb-3">
    <label for="objectif">Objectif :</label>
    <input id="objectif" class="form-control" [(ngModel)]="bloc.objectif" />
  </div>
  <div class="form-group mb-3">
    <label for="salle">Salle :</label>
    <select
      [compareWith]="compareSn"
      [(ngModel)]="bloc.salleResponse"
      id="salle"
      class="form-control"
    >
      <option value="null">Aucun</option>
      @for(s of SalleObservable|async; track s.id){
      <option [ngValue]="s">
        {{ s.libelle }}
      </option>
      }
    </select>
  </div>
  <div class="form-group mb-3">
    <label for="matiere">Matière :</label>
    <select
      [compareWith]="compareMn"
      [(ngModel)]="bloc.matiereResponse"
      id="matiere"
      class="form-control"
    >
      <option value="null">Aucun</option>
      @for(m of MatiereObservable|async; track m.id){
      <option [ngValue]="m">
        {{ m.titre }}
      </option>
      }
    </select>
  </div>
  <div class="form-group mb-3">
    <label for="formateur">Formateur :</label>
    <select
      [compareWith]="compareFn"
      [(ngModel)]="bloc.formateurResponse"
      id="formateur"
      class="form-control"
    >
      <option value="null">Aucun</option>
      @for(f of FormateurObservable|async; track f.id){

      <option [ngValue]="f">
        {{ f.nom }}
      </option>
      }
    </select>
  </div>
  <div class="form-group">
    <button class="btn btn-outline-primary" (click)="save()">
      Enregistrer
    </button>
    <a
      [routerLink]="['/bloc']"
      routerLinkActive="router-link-active"
      class="btn btn-outline-warning m-2"
      >Retour</a
    >
  </div>
</div>
